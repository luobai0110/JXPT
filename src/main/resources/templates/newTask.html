<!DOCTYPE html>
<html lang="en"
    xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>发布新作业</title>
    <link rel="stylesheet" href="/css/bootstrap.min.css">
    <link rel="stylesheet" href="/layui/css/layui.css">
    <link rel="stylesheet" href="/css/pubHead.css">
</head>
<body>
<div class="row" th:insert="pub::pubHead" ></div>
<div class="container">
   <div class="row">
       <div class="col-8 offset-2" >
           <div class="layui-panel" style="padding: 10px">
               <form id="newTask">
                   <div class="form-floating mb-3">
                       <input type="text" class="form-control" name="name" placeholder="作业标题" id="taskName">
                       <label for="taskName">作业标题</label>
                   </div>
                   <div class="mb-3">
                       <label for="description">要求</label>
                       <textarea id="description" rows="10" class="form-control" name="description"></textarea>
                   </div>
                   <div class="mb-3">
                       <label for="dead">截止日期</label>
                       <input type="datetime-local" name="deadline" id="dead" step="1">
                   </div>
                   <div class="mb-3 d-grid">
                       <button class="btn btn-primary d-block" type="button" onclick="newTask()">发布</button>
                   </div>
                   <div class="mb-3 d-grid">
                       <button class="btn btn-primary d-block" type="reset">重置</button>
                   </div>
               </form>
           </div>
       </div>
   </div>
</div>
<script src="/js/jquery.min.js"></script>
<script>
   function newTask() {
       $.ajax({
           type:"POST",
           url:"/task/new",
           data:$('#newTask').serialize(),
           success: function (data) {
               alert("添加成功");
               location.href="/teacher"
           },
           error: function (data) {
               alert("发布失败")
           }
       })
   }
</script>
</body>
</html>